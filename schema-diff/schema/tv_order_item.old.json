{ "_created" : { "$date" : 1385621096180 }, "_documentType" : "schema", "_id" : { "$oid" : "51e7ed435218e9d580744368" }, "_modified" : { "$date" : 1385621096180 }, "_parents" : [ { "$ref" : "group", "$id" : { "$oid" : "4ef31ce1766ec96769b399bd" } } ], "_private" : { "cpe" : [ { "$ref" : "group", "$id" : { "$oid" : "4ef31ce1766ec96769b399bd" } } ], "e" : [ "system", "asset_element_common", "asset_element_project_common", "usage_rights" ] }, "_version" : 1, "group" : [ "tv_order_item" ], "name" : "Tv Order Item Schema", "schema" : { "additionalProperties" : false, "extends" : [ "system", "market_schema" ], "properties" : { "_cm" : { "properties" : { "arpp" : { "type" : "object", "enabled" : [ { "path" : "_cm.tv.marketCountry", "value" : "fr" } ], "properties" : { "version" : { "type" : "string", "description" : "ARPP version number", "include_in_all" : false }, "sNumber" : { "type" : "string", "description" : "ARPP submission number", "include_in_all" : false }, "sResults" : { "type" : "string", "description" : "ARPP submission results", "include_in_all" : false }, "sCommentsCode" : { "type" : "string", "description" : "ARPP submission comments code", "include_in_all" : false }, "sDetails" : { "type" : "text", "description" : "ARPP submission details", "include_in_all" : false } } }, "asset" : { "type" : "object", "required" : false, "extends" : [ { "ref" : "asset_element_common#properties._cm", "filter" : "ordering" }, { "ref" : "asset_element_project_common#properties._cm", "filter" : "ordering" } ], "properties" : { "common" : { "required" : false, "type" : "object", "properties" : {} }, "video" : { "required" : false, "type" : "object", "enabled" : true, "properties" : {} } } }, "common" : { "enabled" : true, "extends" : [ { "ref" : "asset_element_common#properties._cm.properties.video", "filter" : "custom_code" } ], "order" : 1, "properties" : { "additionalInformation" : { "description" : "Additional Details", "type" : "text" }, "clockNumber" : { "description" : "Clock Number", "enabled" : true, "pattern" : "^[&|#_\\\\/a-zA-Z0-9-]*$", "required" : true, "type" : "custom_code" }, "duration" : { "description" : "Duration", "pattern" : "^((\\d+)|((\\d+h)?\\s*(\\d+mn)?\\s*(\\d+s)?\\s*(\\d+ms)?))$", "required" : true, "type" : "string" }, "firstAirDate" : { "description" : "First Air Date", "required" : true, "type" : "date" }, "format" : { "description" : "Format", "maxItems" : 1, "name" : "tv_order_video_format", "required" : [ { "path" : "_cm.common.item_type", "value" : "ingest" } ], "type" : "dictionary", "validate" : false }, "item_type" : { "type" : "string", "required" : true, "enum" : [ "delivery", "ingest" ], "default" : "delivery" }, "title" : { "description" : "Title", "required" : true, "type" : "string" }, "uploadedFiles" : { "description" : "Upload Document", "items" : { "type" : "file" }, "type" : "array" } }, "type" : "object" }, "destinations" : { "enabled" : [ { "path" : "_cm.common.item_type", "value" : "delivery" } ], "properties" : { "count" : { "properties" : { "atDestination" : { "type" : "integer", "default" : 0, "description" : "calc by core" }, "cancelled" : { "type" : "integer", "default" : 0, "description" : "calc by core" }, "total" : { "type" : "integer", "default" : 0, "description" : "calc by core" } }, "type" : "object" }, "items" : { "hints" : [ "order_item_cache_destinations" ], "items" : { "properties" : { "a4Id" : { "type" : "string" }, "actuallyDelivered" : { "type" : "date", "required" : false }, "approvalStatus" : { "type" : "string", "required" : false, "enum" : [ "on_hold", "approved" ] }, "comment" : { "required" : false, "type" : "string" }, "commentStorageID" : { "required" : false, "type" : "string" }, "countryCode" : { "required" : false, "type" : "string" }, "delivered" : { "type" : "date", "required" : false }, "destinationStatusId" : { "required" : false, "type" : "string" }, "id" : { "depends" : { "market" : "_cm.tv.marketId" }, "include_in_all" : false, "map_fields" : { "name" : "name" }, "maxItems" : 1, "required" : true, "type" : "dictionary" }, "isCommentMandatory" : { "required" : false, "type" : "boolean" }, "name" : { "type" : "string" }, "qcAssetId" : { "type" : "ObjectId", "description" : "qc spec calculator" }, "serviceLevel" : { "include_in_all" : false, "properties" : { "id" : { "depends" : { "destination" : "_cm.destinations.items.id" }, "map_fields" : { "name" : "name" }, "maxItems" : 1, "required" : true, "type" : "dictionary" }, "name" : { "type" : "string" } }, "required" : true, "type" : "object" }, "status" : { "default" : "New", "type" : "string" }, "statusId" : { "default" : [ "9" ], "map_fields" : { "status" : "name" }, "maxItems" : 1, "name" : "delivery_status", "required" : true, "type" : "dictionary" }, "utcOffset" : { "required" : false, "type" : "string" }, "viewStatus" : { "type" : "dictionary", "name" : "delivery_view_status", "required" : false, "maxItems" : 1, "default" : [ "Order Placed" ] } }, "type" : "object" }, "minItems" : 0, "required" : false, "type" : "array" } }, "type" : "object" }, "media" : { "ignore_search_engine" : true, "include_in_all" : false, "index" : false, "properties" : { "uploadRequest" : { "properties" : { "alreadySupplied" : { "type" : "boolean", "default" : false }, "arrivalTime" : { "type" : "string", "pattern" : "[0-2]\\d:\\d{2}", "description" : "Arrival Time" }, "assignees" : { "type" : "array", "items" : { "type" : "email" } }, "daysBeforeFirstAirDate" : { "type" : "integer", "description" : "Days before First Air Date" }, "deadlineDate" : { "type" : "date" }, "message" : { "type" : "string" }, "postHouse" : { "type" : "string", "description" : "Post House" }, "uploadType" : { "type" : "dictionary", "name" : "media_upload_types", "maxItems" : 1 } }, "type" : "object" } }, "type" : "object" }, "nonBroadcastDestinations" : { "properties" : { "items" : { "items" : { "properties" : { "deliveryDetails" : { "description" : "Delivery Details", "type" : "text", "required" : false }, "destination" : { "description" : "Destination", "type" : "string", "required" : true }, "format" : { "description" : "Format", "type" : "dictionary", "name" : "non_broadcast_methods", "depends" : { "method" : "_cm.nonBroadcastDestinations.items.method" }, "required" : true }, "mediaCompile" : { "description" : "Media Compile", "type" : "dictionary", "name" : "non_broadcast_media_compile", "required" : false }, "method" : { "description" : "Type", "include_in_all" : false, "maxItems" : 1, "name" : "non_broadcast_methods", "required" : true, "type" : "dictionary" }, "noOfCopies" : { "description" : "No. copies", "pattern" : "^([1-9][0-9]*)$", "type" : "string", "required" : true }, "notesAndLabels" : { "description" : "Notes & Labels", "type" : "text", "required" : false }, "serviceLevel" : { "description" : "Service Level", "include_in_all" : false, "properties" : { "id" : { "map_fields" : { "name" : "name" }, "maxItems" : 1, "name" : "ordering_non_broadcast_service_levels", "required" : true, "type" : "dictionary" }, "name" : { "type" : "string" } }, "required" : true, "type" : "object" }, "specification" : { "description" : "Specification", "type" : "dictionary", "name" : "non_broadcast_specification", "maxItems" : 1, "include_in_all" : false, "required" : true } }, "type" : "object" }, "maxItems" : 10, "required" : false, "type" : "array" } }, "required" : false, "type" : "object" }, "productionServices" : { "properties" : { "items" : { "items" : { "properties" : { "serviceType" : { "description" : "Type", "type" : "dictionary", "name" : "production_service_types", "required" : true }, "notes" : { "description" : "Notes", "type" : "text", "required" : false } }, "type" : "object" }, "maxItems" : 9, "required" : false, "type" : "array" } }, "required" : false, "type" : "object" }, "tv" : { "properties" : { "market" : { "required" : false, "type" : "string" }, "marketCountry" : { "type" : "string" }, "marketId" : { "description" : "Market", "include_in_all" : false, "map_fields" : { "market" : "name", "marketCountry" : "country" }, "maxItems" : 1, "name" : "ordering_tv_market", "required" : true, "type" : "dictionary" }, "orderReference" : { "type" : "integer", "required" : false } }, "required" : true, "type" : "object" } }, "type" : "object" }, "_id" : { "type" : "ObjectId", "required" : true }, "_private" : { "extends" : [ "usage_rights" ], "properties" : { "specDbDocID" : { "type" : "string", "required" : false } }, "type" : "object" }, "_subtype" : { "required" : true, "type" : "string", "enum" : [ "tv_order_item" ] }, "a4" : { "include_in_all" : true, "properties" : { "advertiser" : { "type" : "string", "description" : "denorm" }, "campaign" : { "type" : "string", "description" : "denorm" }, "product" : { "type" : "string", "description" : "denorm" }, "status_changed" : { "type" : "date", "required" : false } }, "required" : false, "type" : "object" }, "approvalStatus" : { "type" : "string", "required" : false, "enum" : [ "on_hold", "approved" ] }, "assetElement" : { "type" : "object", "validate" : false, "additionalProperties" : true, "properties" : {} }, "assetId" : { "type" : "ObjectId" }, "assets" : { "type" : "array", "items" : { "type" : "object", "validate" : false, "index" : false, "additionalProperties" : true, "properties" : {}, "description" : "qc spec calculator" } }, "elementId" : { "type" : "ObjectId" }, "ingestViewStatus" : { "type" : "dictionary", "name" : "ingest_view_status", "required" : false, "maxItems" : 1, "enabled" : [ { "path" : "_cm.common.item_type", "value" : "ingest" } ] }, "order" : { "properties" : { "a4OrderId" : { "type" : "string" }, "jobNumber" : { "type" : "string" }, "orderStatus" : { "type" : "string" }, "poNumber" : { "type" : "string" } }, "type" : "object" }, "orderId" : { "type" : "ObjectId", "required" : true }, "qcAssetId" : { "type" : "ObjectId" }, "status" : { "maxItems" : 1, "name" : "order_item_statuses", "required" : true, "type" : "dictionary" } }, "type" : "object", "view" : { "groups" : { "common" : { "add_information" : { "description" : "Add Information", "group" : "add_information", "order" : 1 } } } } }, "view" : { "properties" : { "_cm" : { "properties" : { "arpp" : { "properties" : { "version" : { "view" : { "e" : { "order" : 350 }, "v" : { "order" : 350 } } }, "sNumber" : { "view" : { "e" : { "order" : 351 }, "v" : { "order" : 351 } } }, "sResults" : { "view" : { "e" : { "order" : 352 }, "v" : { "order" : 352 } } }, "sCommentsCode" : { "view" : { "e" : { "order" : 353 }, "v" : { "order" : 353 } } }, "sDetails" : { "view" : { "template" : "textarea", "e" : { "order" : 354, "width" : 1 }, "v" : { "order" : 354, "width" : 1 } } } } }, "common" : { "properties" : { "additionalInformation" : { "view" : { "e" : { "order" : 300, "group" : "add_information", "width" : 1 }, "template" : "textarea", "v" : { "order" : 300, "group" : "add_information", "width" : 1 } } }, "clockNumber" : { "view" : { "e" : { "group" : "add_information", "order" : 1, "width" : 2 }, "template" : "clocknumber", "v" : { "group" : "add_information", "order" : 1, "width" : 2 } } }, "duration" : { "view" : { "e" : { "group" : "add_information", "order" : 6, "width" : 2 }, "v" : { "group" : "add_information", "order" : 6, "width" : 2 } } }, "firstAirDate" : { "view" : { "e" : { "group" : "add_information", "order" : 7, "width" : 2 }, "v" : { "group" : "add_information", "order" : 7, "width" : 2 } } }, "format" : { "view" : { "e" : { "group" : "add_information", "order" : 8, "width" : 2 }, "sorted" : true, "v" : { "group" : "add_information", "order" : 8, "width" : 2 } } }, "title" : { "view" : { "e" : { "group" : "add_information", "order" : 5, "width" : 2 }, "v" : { "group" : "add_information", "order" : 5, "width" : 2 } } }, "uploadedFiles" : { "view" : { "e" : { "order" : 301, "group" : "add_information" }, "template" : "file", "v" : { "order" : 301, "group" : "add_information" } } } } }, "destinations" : { "properties" : { "items" : { "view" : { "e" : { "group" : "select_broadcast_destinations" } } } }, "view" : { "e" : { "order" : 1, "group" : "select_broadcast_destinations" }, "v" : { "order" : 1, "group" : "select_broadcast_destinations" } } }, "nonBroadcastDestinations" : { "properties" : { "items" : { "items" : { "properties" : { "deliveryDetails" : { "view" : { "e" : { "order" : 7, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 7, "group" : "select_non_broadcast_destinations" } } }, "destination" : { "view" : { "e" : { "order" : 2, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 2, "group" : "select_non_broadcast_destinations" } } }, "format" : { "view" : { "e" : { "order" : 3, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 3, "group" : "select_non_broadcast_destinations" } } }, "mediaCompile" : { "view" : { "e" : { "order" : 6, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 6, "group" : "select_non_broadcast_destinations" } } }, "method" : { "view" : { "e" : { "order" : 1, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 1, "group" : "select_non_broadcast_destinations" } } }, "noOfCopies" : { "view" : { "e" : { "order" : 5, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 5, "group" : "select_non_broadcast_destinations" } } }, "notesAndLabels" : { "view" : { "e" : { "order" : 8, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 8, "group" : "select_non_broadcast_destinations" } } }, "serviceLevel" : { "view" : { "e" : { "order" : 9, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 9, "group" : "select_non_broadcast_destinations" } } }, "specification" : { "view" : { "e" : { "order" : 4, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 4, "group" : "select_non_broadcast_destinations" } } } } }, "view" : { "e" : { "group" : "select_non_broadcast_destinations" } } } }, "view" : { "e" : { "order" : 1, "group" : "select_non_broadcast_destinations" }, "v" : { "order" : 1, "group" : "select_non_broadcast_destinations" } } }, "productionServices" : { "properties" : { "items" : { "items" : { "properties" : { "notes" : { "view" : { "e" : { "order" : 2, "group" : "select_production_services" }, "v" : { "order" : 2, "group" : "select_production_services" } } }, "serviceType" : { "view" : { "e" : { "order" : 1, "group" : "select_production_services" }, "v" : { "order" : 1, "group" : "select_production_services" } } } } }, "view" : { "e" : { "group" : "select_production_services" } } } }, "view" : { "e" : { "order" : 1, "group" : "select_production_services" }, "v" : { "order" : 1, "group" : "select_production_services" } } } } } } } }
