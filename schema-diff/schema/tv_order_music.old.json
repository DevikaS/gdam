{ "_created" : { "$date" : 1395234978903 }, "_documentType" : "schema", "_id" : { "$oid" : "5280a43be66d385c4b0a0889" }, "_modified" : { "$date" : 1395234978903 }, "_parents" : [ { "$ref" : "group", "$id" : { "$oid" : "4ef31ce1766ec96769b399bd" } } ], "_private" : { "cpe" : [ { "$ref" : "group", "$id" : { "$oid" : "4ef31ce1766ec96769b399bd" } } ], "e" : [ "system", "usage_rights", "asset_element_project_common", "asset_element_common", "billing" ] }, "_version" : 1, "group" : [ "tv_order_music" ], "name" : "Ordering (Music) Schema", "schema" : { "additionalProperties" : false, "extends" : [ "system", "billing" ], "properties" : { "_cm" : { "properties" : { "billing" : { "properties" : { "bu" : { "properties" : { "id" : { "description" : "Organization", "map_fields" : { "name" : "name" }, "maxItems" : 1, "name" : "agency_partner", "type" : "dictionary" }, "name" : { "type" : "string" } }, "type" : "object" } }, "type" : "object" }, "common" : { "properties" : { "handleStandardsConversions" : { "type" : "boolean", "description" : "Manage my format conversions (SD to HD conversion / PAL to NTSC)", "index" : false }, "jobNumber" : { "description" : "Job Number", "pattern" : "^.{0,30}$", "type" : "string" }, "notificationEmails" : { "type" : "array", "description" : "Additional Recipients", "index" : false, "items" : { "type" : "email" } }, "notifyAboutDelivery" : { "type" : "boolean", "description" : "Notify me when my entire order has been delivered", "index" : false }, "notifyAboutQc" : { "type" : "boolean", "description" : "Notify me when my entire order has passed QC", "index" : false }, "poNumber" : { "description" : "PO Number", "pattern" : "^.{0,20}$", "type" : "string" } }, "required" : true, "type" : "object" }, "tv" : { "enabled" : [ { "path" : "_subtype", "value" : "tv_order_music" } ], "properties" : { "atDestination" : { "type" : "integer", "default" : 0, "description" : "calc by core" }, "cancelled" : { "type" : "integer", "default" : 0, "description" : "calc by core" }, "market" : { "required" : false, "type" : "string" }, "marketCountry" : { "type" : "string" }, "marketId" : { "description" : "Market", "include_in_all" : false, "map_fields" : { "market" : "name", "marketCountry" : "country" }, "maxItems" : 1, "name" : "ordering_tv_market", "required" : true, "type" : "dictionary" } }, "required" : [ { "path" : "_subtype", "value" : "tv_order_music" } ], "type" : "object" } }, "type" : "object" }, "_parents" : { "type" : "sys_parents", "required" : true, "allow" : [ "agency" ] }, "_private" : { "properties" : { "assigns" : { "type" : "object", "validate" : false, "additionalProperties" : true, "properties" : {} }, "mailNotifications" : { "type" : "object", "ignore_search_engine" : true, "description" : "Mail notifications status", "index" : false, "validate" : false, "required" : false, "properties" : { "deliveryCompleteSend" : { "type" : "date", "ignore_search_engine" : true, "description" : "Delivery notification send date", "index" : false, "validate" : false, "required" : false }, "ingestCompleteSend" : { "type" : "date", "ignore_search_engine" : true, "description" : "Ingest notification send date", "index" : false, "validate" : false, "required" : false } } } }, "type" : "object" }, "_subtype" : { "required" : true, "type" : "string", "enum" : [ "tv_order_music" ] }, "advertiser" : { "type" : "string", "include_in_all" : false }, "assignedTo" : { "description" : "Owner", "include_in_all" : false, "properties" : { "_id" : { "type" : "ObjectId" }, "email" : { "type" : "email" }, "firstName" : { "type" : "text" }, "lastName" : { "type" : "text" }, "fullName" : { "type" : "text" } }, "type" : "object" }, "assignee" : { "type" : "DBRef", "include_in_all" : false }, "deliverables" : { "properties" : { "items" : { "items" : { "properties" : { "_cm" : { "properties" : { "asset" : { "type" : "object", "required" : false, "extends" : [ { "ref" : "asset_element_common#properties._cm", "filter" : "ordering" }, { "ref" : "asset_element_project_common#properties._cm", "filter" : "ordering" } ], "properties" : { "common" : { "required" : false, "type" : "object", "properties" : {} } } }, "common" : { "type" : "object", "extends" : [ "tv_order_item_music#properties._cm.properties.common" ], "properties" : {} } }, "type" : "object" }, "a4" : { "include_in_all" : true, "properties" : { "advertiser" : { "type" : "string", "description" : "denorm" }, "campaign" : { "type" : "string", "description" : "denorm" }, "product" : { "type" : "string", "description" : "denorm" } }, "required" : false, "type" : "object" }, "assets" : { "type" : "array", "items" : { "type" : "object", "properties" : { "_id" : { "type" : "ObjectId", "required" : true } } } } }, "type" : "object", "validate" : false }, "type" : "array" }, "total" : { "type" : "integer", "required" : true } }, "type" : "object", "validate" : false }, "lastError" : { "type" : "object", "required" : false, "properties" : { "statusCode" : { "type" : "integer", "required" : true }, "message" : { "type" : "string", "required" : true, "index" : false }, "stackTrace" : { "type" : "string", "required" : false, "index" : false }, "time" : { "type" : "date", "required" : false, "index" : false } } }, "onHold" : { "type" : "boolean", "description" : "On Hold status", "required" : false }, "orderReference" : { "type" : "integer", "description" : "Order Reference", "required" : true, "sequence" : { "type" : "A4OrderReference", "name" : "OrderReference" } }, "status" : { "maxItems" : 1, "name" : "order_statuses", "required" : true, "type" : "dictionary" }, "submitted" : { "type" : "date", "description" : "Date Submitted" }, "submittedBy" : { "type" : "object", "required" : false, "include_in_all" : false, "properties" : { "_id" : { "type" : "ObjectId" }, "email" : { "type" : "email" }, "firstName" : { "type" : "text" }, "lastName" : { "type" : "text" }, "fullName" : { "type" : "text" } } }, "submitter" : { "type" : "DBRef", "required" : false, "include_in_all" : false } }, "type" : "object" }, "view" : {} }
